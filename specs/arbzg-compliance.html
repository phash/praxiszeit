<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArbZG-Compliance â€“ PraxisZeit</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: #f1f5f9;
      color: #1e293b;
      line-height: 1.6;
    }
    .header {
      background: linear-gradient(135deg, #1e3a5f 0%, #2563eb 100%);
      color: white;
      padding: 2.5rem 2rem;
      text-align: center;
    }
    .header h1 { font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; }
    .header .subtitle { opacity: 0.85; font-size: 0.95rem; }
    .header .date-badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 0.25rem 0.9rem;
      border-radius: 999px;
      font-size: 0.8rem;
      margin-top: 0.75rem;
    }
    .container { max-width: 1100px; margin: 0 auto; padding: 2rem 1rem; }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2.5rem;
    }
    .summary-card {
      background: white;
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
      border-top: 4px solid;
      text-align: center;
    }
    .summary-card.ok { border-color: #22c55e; }
    .summary-card.warn { border-color: #f59e0b; }
    .summary-card.fail { border-color: #ef4444; }
    .summary-card .icon { font-size: 2rem; margin-bottom: 0.5rem; }
    .summary-card .label { font-weight: 600; font-size: 0.85rem; color: #475569; }
    .summary-card .count { font-size: 2rem; font-weight: 700; margin: 0.25rem 0; }
    .summary-card.ok .count { color: #16a34a; }
    .summary-card.warn .count { color: #d97706; }
    .summary-card.fail .count { color: #dc2626; }

    .section {
      background: white;
      border-radius: 14px;
      margin-bottom: 1.5rem;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
      overflow: hidden;
    }
    .section-header {
      padding: 1.1rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      cursor: pointer;
      user-select: none;
      border-bottom: 1px solid transparent;
      transition: background 0.15s;
    }
    .section-header:hover { background: #f8fafc; }
    .section.open .section-header { border-bottom-color: #e2e8f0; }
    .section-par {
      font-size: 0.8rem;
      font-weight: 700;
      color: white;
      background: #2563eb;
      padding: 0.2rem 0.6rem;
      border-radius: 6px;
      white-space: nowrap;
    }
    .section-title { font-weight: 700; font-size: 1.05rem; flex: 1; }
    .section-status { font-size: 1.3rem; flex-shrink: 0; }
    .section-chevron { color: #94a3b8; font-size: 0.8rem; transition: transform 0.2s; }
    .section.open .section-chevron { transform: rotate(180deg); }
    .section-body { padding: 1.5rem; display: none; }
    .section.open .section-body { display: block; }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.88rem;
      margin-top: 1rem;
    }
    th {
      background: #f8fafc;
      padding: 0.65rem 1rem;
      text-align: left;
      font-weight: 600;
      color: #475569;
      border-bottom: 2px solid #e2e8f0;
    }
    td {
      padding: 0.65rem 1rem;
      border-bottom: 1px solid #f1f5f9;
      vertical-align: top;
    }
    tr:last-child td { border-bottom: none; }
    .badge {
      display: inline-block;
      padding: 0.2rem 0.55rem;
      border-radius: 6px;
      font-size: 0.78rem;
      font-weight: 600;
      white-space: nowrap;
    }
    .badge-ok { background: #dcfce7; color: #166534; }
    .badge-warn { background: #fef3c7; color: #92400e; }
    .badge-fail { background: #fee2e2; color: #991b1b; }

    .law-box {
      background: #eff6ff;
      border-left: 4px solid #2563eb;
      padding: 0.9rem 1.1rem;
      border-radius: 0 8px 8px 0;
      margin-bottom: 1.2rem;
      font-size: 0.9rem;
    }
    .law-box strong { color: #1e40af; }
    .law-box ul { margin-left: 1.2rem; margin-top: 0.4rem; }
    .law-box li { margin-bottom: 0.2rem; }

    .gaps-list { list-style: none; }
    .gaps-list li {
      padding: 0.75rem 1rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      font-size: 0.9rem;
      background: #fef9c3;
    }
    .gap-tag {
      font-size: 0.7rem;
      font-weight: 700;
      padding: 0.15rem 0.45rem;
      border-radius: 4px;
      white-space: nowrap;
      flex-shrink: 0;
      margin-top: 0.15rem;
      background: #a16207;
      color: white;
    }

    .fine-table td:last-child { font-weight: 700; color: #dc2626; }

    .controls {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      justify-content: flex-end;
    }
    .btn {
      padding: 0.4rem 1rem;
      border-radius: 7px;
      border: 1px solid #e2e8f0;
      background: white;
      color: #475569;
      font-size: 0.82rem;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.15s;
    }
    .btn:hover { background: #f1f5f9; border-color: #cbd5e1; }

    h3 { font-size: 0.95rem; color: #1e293b; margin: 1rem 0 0.5rem; font-weight: 600; }
    p { color: #475569; font-size: 0.9rem; margin-bottom: 0.5rem; }
    code { background: #f1f5f9; padding: 0.1rem 0.35rem; border-radius: 4px; font-size: 0.82rem; color: #1e40af; }

    .hint-box {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      padding: 1rem 1.2rem;
      font-size: 0.85rem;
      color: #64748b;
      margin-top: 2rem;
      text-align: center;
    }
    .hint-box strong { color: #1e293b; }
    .ok-note { margin-top: 0.75rem; color: #16a34a; font-weight: 600; font-size: 0.9rem; }
  </style>
</head>
<body>

<div class="header">
  <h1>ArbZG-Compliance â€“ PraxisZeit</h1>
  <p class="subtitle">VollstÃ¤ndiger Abgleich: Arbeitszeitgesetz â†” Implementierungsstand</p>
  <div class="date-badge">Stand: Februar 2026 &nbsp;Â·&nbsp; Gesetzesquelle: <a href="https://www.gesetze-im-internet.de/arbzg/" style="color:white">gesetze-im-internet.de/arbzg</a></div>
</div>

<div class="container">

  <div class="summary-grid">
    <div class="summary-card ok">
      <div class="icon">âœ…</div>
      <div class="count">7</div>
      <div class="label">VollstÃ¤ndig/Weitgehend konform</div>
    </div>
    <div class="summary-card warn">
      <div class="icon">âš ï¸</div>
      <div class="count">2</div>
      <div class="label">Weitgehend (kleine LÃ¼cken)</div>
    </div>
    <div class="summary-card fail">
      <div class="icon">ğŸ“‹</div>
      <div class="count">4</div>
      <div class="label">Verbleibende LÃ¼cken (niedrig)</div>
    </div>
    <div class="summary-card fail">
      <div class="icon">ğŸ’¶</div>
      <div class="count">30.000 â‚¬</div>
      <div class="label">Max. BuÃŸgeld pro VerstoÃŸ</div>
    </div>
  </div>

  <div class="controls">
    <button class="btn" onclick="setAll(true)">Alle aufklappen</button>
    <button class="btn" onclick="setAll(false)">Alle zuklappen</button>
  </div>

  <!-- Â§ 3 -->
  <div class="section open" id="s3">
    <div class="section-header" onclick="toggle('s3')">
      <span class="section-par">Â§ 3</span>
      <span class="section-title">TÃ¤gliche HÃ¶chstarbeitszeit</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Max. <strong>8 Stunden</strong> werktÃ¤gliche Arbeitszeit</li>
          <li>VerlÃ¤ngerung auf <strong>10 Stunden</strong> erlaubt, wenn Ausgleich innerhalb <strong>6 Kalendermonaten / 24 Wochen</strong> auf â‰¤ 8h Durchschnitt erfolgt</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Warnung bei &gt; 8h/Tag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>DAILY_HOURS_WARNING</code> Flag + Frontend-Toast bei create / update / clock_out</td>
        </tr>
        <tr>
          <td>Hard-Stop bei &gt; 10h/Tag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>HTTP 422 bei allen Eingabepfaden (Mitarbeiter, Admin-Direkteintrag, Ã„nderungsantrÃ¤ge)</td>
        </tr>
        <tr>
          <td>Â§3-Check bei Admin-Direkteintrag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>admin.py: admin_create_time_entry / admin_update_time_entry</code> â€“ Â§3-Check nach Â§4-PrÃ¼fung</td>
        </tr>
        <tr>
          <td>Â§3-Check bei Ã„nderungsantrÃ¤gen</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>change_requests.py</code> prÃ¼ft Â§3 nach Genehmigung</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme (exempt_from_arbzg)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Checks werden fÃ¼r leitende Angestellte Ã¼bersprungen</td>
        </tr>
        <tr>
          <td>6-Monats-Ausgleichszeitraum</td>
          <td><span class="badge badge-warn">âš ï¸ Nicht getrackt</span></td>
          <td>Kein gleitender Durchschnitt; manuelle Dokumentationsaufgabe</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- Â§ 4 -->
  <div class="section open" id="s4">
    <div class="section-header" onclick="toggle('s4')">
      <span class="section-par">Â§ 4</span>
      <span class="section-title">Ruhepausen (Pflichtpausen)</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Arbeit &gt; 6 Stunden â†’ mind. <strong>30 Minuten</strong> Pause</li>
          <li>Arbeit &gt; 9 Stunden â†’ mind. <strong>45 Minuten</strong> Pause</li>
          <li>Maximale Arbeitszeit ohne jede Pause: <strong>6 Stunden</strong></li>
          <li>Pausen kÃ¶nnen aufgeteilt werden (mind. 15 min je Einheit)</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Pausenfeld im Zeiteintrag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>break_minutes</code> bei allen ZeiteintrÃ¤gen erfasst und gespeichert</td>
        </tr>
        <tr>
          <td>&gt;6h â†’ mind. 30min Pause</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>break_validation_service.validate_daily_break()</code> â€“ aktiv bei create / update / clock_out / admin / change_requests</td>
        </tr>
        <tr>
          <td>&gt;9h â†’ mind. 45min Pause</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>break_validation_service.py</code> prÃ¼ft 9h/45min vor 6h/30min</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme (exempt_from_arbzg)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Pausenpflicht-Checks werden fÃ¼r leitende Angestellte Ã¼bersprungen</td>
        </tr>
      </table>
      <p class="ok-note">Â§ 4 ist vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Â§ 5 -->
  <div class="section open" id="s5">
    <div class="section-header" onclick="toggle('s5')">
      <span class="section-par">Â§ 5</span>
      <span class="section-title">Mindestruhezeit zwischen Schichten</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Mind. <strong>11 Stunden ununterbrochene Ruhezeit</strong> nach Arbeitsende</li>
          <li>Ausnahmen in bestimmten Bereichen (z.B. KrankenhÃ¤user) mit Ausgleich innerhalb 4 Wochen</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>11h-PrÃ¼fung zwischen Schichten</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>rest_time_service.check_rest_time_violations()</code></td>
        </tr>
        <tr>
          <td>Admin-Report Ruhezeit-VerstÃ¶ÃŸe</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/rest-time-violations</code> mit Jahr, optionalem Monat, konfigurierbarem Schwellwert</td>
        </tr>
        <tr>
          <td>Frontend-Anzeige</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Admin Reports-Seite zeigt betroffene Mitarbeiter, Datum und Stunden-Defizit</td>
        </tr>
      </table>
      <p class="ok-note">Â§ 5 ist vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Â§ 6 -->
  <div class="section open" id="s6">
    <div class="section-header" onclick="toggle('s6')">
      <span class="section-par">Â§ 6</span>
      <span class="section-title">Nacht- und Schichtarbeit</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li><strong>Nachtzeit:</strong> 23:00â€“06:00 Uhr (Â§ 2 Abs. 3)</li>
          <li><strong>Nachtarbeitnehmer:</strong> mind. 48 NÃ¤chte/Jahr oder regelmÃ¤ÃŸig Nachtarbeit</li>
          <li>Max. <strong>8 Stunden/Nacht</strong> fÃ¼r Nachtarbeitnehmer (verlÃ¤ngerbar auf 10h, Ausgleich innerhalb 1 Monat)</li>
          <li>Anspruch auf <strong>arbeitsmedizinische Untersuchung</strong></li>
          <li>Anspruch auf <strong>25%-Lohnzuschlag</strong> oder gleichwertige Freizeit bei regelmÃ¤ÃŸiger Nachtarbeit</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Erkennung Nachtarbeit (23â€“6 Uhr)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>_is_night_work()</code> in <code>time_entries.py</code></td>
        </tr>
        <tr>
          <td><code>is_night_work</code> Flag in API</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>In allen <code>TimeEntryResponse</code>-Endpoints zurÃ¼ckgegeben</td>
        </tr>
        <tr>
          <td>â€Nacht"-Badge im Frontend</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Indigo-Badge in <code>TimeTracking.tsx</code></td>
        </tr>
        <tr>
          <td>Admin-Report: Nachtarbeit-Statistik</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/night-work-summary</code> â€“ Nachtschichten/MA, Nachtarbeitnehmer-Markierung (â‰¥48 Tage/Jahr), MonatsaufschlÃ¼sselung</td>
        </tr>
        <tr>
          <td>Strengere 8h-Grenze fÃ¼r Nachtarbeitnehmer</td>
          <td><span class="badge badge-warn">âš ï¸ Nicht impl.</span></td>
          <td>Alle Mitarbeiter haben dasselbe 10h Hard-Limit; separates Nachtarbeitnehmer-Flag nicht vorhanden</td>
        </tr>
        <tr>
          <td>Tracking arbeitsmedizinischer Untersuchungen</td>
          <td><span class="badge badge-warn">âš ï¸ Nicht impl.</span></td>
          <td>HR-Verwaltungsaufgabe â€“ sinnvoller in separatem HR-System</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- Â§ 9/10 -->
  <div class="section open" id="s9">
    <div class="section-header" onclick="toggle('s9')">
      <span class="section-par">Â§Â§ 9/10</span>
      <span class="section-title">Sonn- und Feiertagsruhe</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht (Â§ 9):</strong> BeschÃ¤ftigungsverbot 0â€“24 Uhr<br>
        <strong>Ausnahmen (Â§ 10):</strong> u.a. Gesundheitsversorgung, Notdienst â†’ dokumentationspflichtig
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Sonntagserkennung</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>weekday() == 6</code> in <code>_enrich_response()</code></td>
        </tr>
        <tr>
          <td>Feiertagserkennung</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>is_holiday()</code> via <code>workalendar</code>-DB (alle BundeslÃ¤nder, default Bayern)</td>
        </tr>
        <tr>
          <td><code>is_sunday_or_holiday</code> Flag in API</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>In allen TimeEntry-Responses</td>
        </tr>
        <tr>
          <td><code>SUNDAY_WORK</code> / <code>HOLIDAY_WORK</code> Warnings</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>In API-Response + Frontend-Toast</td>
        </tr>
        <tr>
          <td>Visuelles Highlighting (orange)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Tabellenzeilen + â€So/FT"-Badge in <code>TimeTracking.tsx</code></td>
        </tr>
        <tr>
          <td>Ausnahmegrund-Feld (Â§ 10 ArbZG)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Optionales Textfeld <code>sunday_exception_reason</code> erscheint im Formular bei Sonn-/Feiertagseintrag</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme (exempt_from_arbzg)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Warnungen fÃ¼r leitende Angestellte unterdrÃ¼ckt</td>
        </tr>
      </table>
      <p class="ok-note">Â§Â§ 9/10 sind vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Â§ 11 -->
  <div class="section open" id="s11">
    <div class="section-header" onclick="toggle('s11')">
      <span class="section-par">Â§ 11</span>
      <span class="section-title">Ausgleich nach Sonn- und Feiertagsarbeit</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Mind. <strong>15 beschÃ¤ftigungsfreie Sonntage</strong> pro Jahr pro Arbeitnehmer</li>
          <li>Ersatzruhetag nach Sonntagsarbeit: innerhalb <strong>2 Wochen</strong></li>
          <li>Ersatzruhetag nach Feiertagsarbeit: innerhalb <strong>8 Wochen</strong></li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>15-freie-Sonntage Compliance</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/sunday-summary</code> mit GrÃ¼n/Rot-Bewertung + Frontend-Tabelle</td>
        </tr>
        <tr>
          <td>Ersatzruhetag-Tracking (2 Wochen, Sonntag)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/compensatory-rest</code> â€“ prÃ¼ft freien Tag innerhalb 14 Tage nach Sonntagsarbeit</td>
        </tr>
        <tr>
          <td>Ersatzruhetag-Tracking (8 Wochen, Feiertag)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Selber Endpoint â€“ 56-Tage-Fenster fÃ¼r Feiertagsarbeit</td>
        </tr>
        <tr>
          <td>Frontend-Report</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Sektion â€Ersatzruhetage Â§11 ArbZG" in Admin-Reports mit VerstoÃŸ-Tabelle</td>
        </tr>
      </table>
      <p class="ok-note">Â§ 11 ist vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Â§ 14 -->
  <div class="section open" id="s14">
    <div class="section-header" onclick="toggle('s14')">
      <span class="section-par">Â§ 14</span>
      <span class="section-title">Wochenarbeitszeit (48h-Grenze)</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Max. <strong>48 Stunden/Woche</strong> im 6-Monats-Durchschnitt</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Warnung bei &gt; 48h/Woche</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>WEEKLY_HOURS_WARNING</code> bei create / update / clock_out + Frontend-Toast</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme (exempt_from_arbzg)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Wochenarbeitszeit-Check wird fÃ¼r leitende Angestellte Ã¼bersprungen</td>
        </tr>
        <tr>
          <td>6-Monats-Durchschnitt</td>
          <td><span class="badge badge-warn">âš ï¸ Nicht impl.</span></td>
          <td>Nur wÃ¶chentliche Momentaufnahme; gleitender 6-Monats-Schnitt nicht berechnet</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- Â§ 16 -->
  <div class="section open" id="s16">
    <div class="section-header" onclick="toggle('s16')">
      <span class="section-par">Â§ 16</span>
      <span class="section-title">Aufzeichnungs- und Aufbewahrungspflicht</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Aufzeichnung aller Arbeitszeiten &gt; 8h werktÃ¤glich</li>
          <li>Aufbewahrung mind. <strong>2 Jahre</strong></li>
          <li><strong>Gesetzesaushang</strong> am Arbeitsplatz</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>VollstÃ¤ndige Zeiterfassung in DB</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Start, Ende, Pausen, Datum, Mitarbeiter, Ausnahmegrund (<code>sunday_exception_reason</code>)</td>
        </tr>
        <tr>
          <td>2-Jahres-Aufbewahrung dokumentiert</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>INSTALLATION.md</code>: Backup-Anleitung + Retention-Prozess; Kommentar in <code>docker-compose.yml</code></td>
        </tr>
        <tr>
          <td>Â§16-Hinweis im Admin-Frontend</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Reports-Seite unter â€Hinweise" mit 2-Jahres-Verweis</td>
        </tr>
        <tr>
          <td>Excel-Export als Nachweis</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Monats- und Jahresexporte verfÃ¼gbar</td>
        </tr>
        <tr>
          <td>Gesetzesaushang / Link zum ArbZG</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Link zu gesetze-im-internet.de/arbzg in Admin-Reports unter â€Hinweise"</td>
        </tr>
      </table>
      <p class="ok-note">Â§ 16 ist vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Â§ 18 -->
  <div class="section open" id="s18">
    <div class="section-header" onclick="toggle('s18')">
      <span class="section-par">Â§ 18</span>
      <span class="section-title">Ausnahmen fÃ¼r leitende Angestellte</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Regelung:</strong> Leitende Angestellte (ChefÃ¤rzte, Praxisinhaber) sind vom ArbZG ausgenommen.
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Ausnahme-Flag auf Benutzerebene</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>User.exempt_from_arbzg</code> (Boolean) â€“ DB-Spalte in Migration 016</td>
        </tr>
        <tr>
          <td>Admin-UI zur Verwaltung</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Checkbox â€ArbZG-PrÃ¼fungen aussetzen (Â§18 ArbZG)" in Benutzerverwaltung</td>
        </tr>
        <tr>
          <td>VollstÃ¤ndiger Bypass</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Alle Â§3/Â§4/Â§14-Checks und DAILY/WEEKLY/SUNDAY/HOLIDAY-Warnungen werden fÃ¼r exempt-Benutzer Ã¼bersprungen</td>
        </tr>
      </table>
      <p class="ok-note">Â§ 18 ist vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Verbleibende LÃ¼cken -->
  <div class="section open" id="gaps">
    <div class="section-header" onclick="toggle('gaps')">
      <span class="section-par">LÃ¼cken</span>
      <span class="section-title">Verbleibende LÃ¼cken (niedrige PrioritÃ¤t)</span>
      <span class="section-status">ğŸ“‹</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <ul class="gaps-list">
        <li>
          <span class="gap-tag">Â§3/Â§14</span>
          <div><strong>6-Monats-Ausgleichszeitraum</strong> â€“ Kein gleitender Durchschnitt fÃ¼r die 8h/48h-Grenze. Manuelle Dokumentationsaufgabe des Arbeitgebers. Technisch komplex, selten relevant bei typischen Praxisarbeitszeiten.</div>
        </li>
        <li>
          <span class="gap-tag">Â§6</span>
          <div><strong>Strengere 8h-Grenze fÃ¼r Nachtarbeitnehmer</strong> â€“ Alle Mitarbeiter haben dasselbe 10h Hard-Limit. Erfordert ein separates Nachtarbeitnehmer-Flag und abweichende PrÃ¼flogik. Praxisrelevanz gering, da Nachtarbeit in Arztpraxen selten ist.</div>
        </li>
        <li>
          <span class="gap-tag">Â§6</span>
          <div><strong>Tracking arbeitsmedizinischer Untersuchungen</strong> â€“ Anspruch auf Untersuchung fÃ¼r Nachtarbeitnehmer. Verwaltungsaufgabe des Arbeitgebers auÃŸerhalb des Systems.</div>
        </li>
        <li>
          <span class="gap-tag">Â§7</span>
          <div><strong>Tarifvertragliche Abweichungen</strong> â€“ Wenn ein Tarifvertrag gilt, kÃ¶nnen andere Grenzwerte gelten. PraxisZeit verwendet feste 8h/10h/48h-Werte ohne KonfigurationsmÃ¶glichkeit.</div>
        </li>
      </ul>
    </div>
  </div>

  <!-- BuÃŸgeldrahmen -->
  <div class="section" id="fines">
    <div class="section-header" onclick="toggle('fines')">
      <span class="section-par">Â§ 22</span>
      <span class="section-title">Straf- und BuÃŸgeldrahmen</span>
      <span class="section-status">ğŸ’¶</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <table class="fine-table">
        <tr><th>VerstoÃŸ</th><th>Â§</th><th>Sanktion</th></tr>
        <tr><td>Ãœberschreitung der Tages-HÃ¶chstarbeitszeit</td><td>Â§ 3</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Fehlende oder unzureichende Ruhepause</td><td>Â§ 4</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Verletzung der 11h-Mindestruhezeit</td><td>Â§ 5</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>VerstoÃŸ gegen Nachtarbeitsgrenzen</td><td>Â§ 6</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>UnzulÃ¤ssige Sonn-/FeiertagsbeschÃ¤ftigung</td><td>Â§ 9</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Fehlende Aufzeichnung von Ãœberstunden</td><td>Â§ 16</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Fehler beim Gesetzesaushang</td><td>Â§ 16</td><td>BuÃŸgeld bis 5.000 â‚¬</td></tr>
        <tr><td>VorsÃ¤tzliche GesundheitsgefÃ¤hrdung</td><td>Â§ 23</td><td>Freiheitsstrafe bis 1 Jahr oder Geldstrafe</td></tr>
      </table>
    </div>
  </div>

  <div class="hint-box">
    <strong>Rechtlicher Hinweis:</strong> Diese Analyse ersetzt keine Rechtsberatung. Arbeitgeber sind selbst verantwortlich fÃ¼r die Einhaltung des ArbZG.<br>
    Bei Fragen zur Anwendung einzelner Vorschriften sollte ein Fachanwalt fÃ¼r Arbeitsrecht hinzugezogen werden.<br><br>
    Gesetzestext: <a href="https://www.gesetze-im-internet.de/arbzg/">gesetze-im-internet.de/arbzg</a>
  </div>

</div>

<script>
  function toggle(id) {
    const el = document.getElementById(id);
    el.classList.toggle('open');
  }
  function setAll(open) {
    document.querySelectorAll('.section').forEach(s => {
      if (open) s.classList.add('open');
      else s.classList.remove('open');
    });
  }
</script>
</body>
</html>
