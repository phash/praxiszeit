<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArbZG-Compliance â€“ PraxisZeit</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: #f1f5f9;
      color: #1e293b;
      line-height: 1.6;
    }
    .header {
      background: linear-gradient(135deg, #1e3a5f 0%, #2563eb 100%);
      color: white;
      padding: 2.5rem 2rem;
      text-align: center;
    }
    .header h1 { font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; }
    .header .subtitle { opacity: 0.85; font-size: 0.95rem; }
    .header .date-badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 0.25rem 0.9rem;
      border-radius: 999px;
      font-size: 0.8rem;
      margin-top: 0.75rem;
    }
    .container { max-width: 1100px; margin: 0 auto; padding: 2rem 1rem; }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2.5rem;
    }
    .summary-card {
      background: white;
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
      border-top: 4px solid;
      text-align: center;
    }
    .summary-card.ok { border-color: #22c55e; }
    .summary-card.warn { border-color: #f59e0b; }
    .summary-card.info { border-color: #94a3b8; }
    .summary-card.fine { border-color: #ef4444; }
    .summary-card .icon { font-size: 2rem; margin-bottom: 0.5rem; }
    .summary-card .label { font-weight: 600; font-size: 0.85rem; color: #475569; }
    .summary-card .count { font-size: 2rem; font-weight: 700; margin: 0.25rem 0; }
    .summary-card.ok .count { color: #16a34a; }
    .summary-card.warn .count { color: #d97706; }
    .summary-card.info .count { color: #64748b; }
    .summary-card.fine .count { color: #dc2626; }

    .section {
      background: white;
      border-radius: 14px;
      margin-bottom: 1.5rem;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
      overflow: hidden;
    }
    .section-header {
      padding: 1.1rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      cursor: pointer;
      user-select: none;
      border-bottom: 1px solid transparent;
      transition: background 0.15s;
    }
    .section-header:hover { background: #f8fafc; }
    .section.open .section-header { border-bottom-color: #e2e8f0; }
    .section-par {
      font-size: 0.8rem;
      font-weight: 700;
      color: white;
      background: #2563eb;
      padding: 0.2rem 0.6rem;
      border-radius: 6px;
      white-space: nowrap;
    }
    .section-title { font-weight: 700; font-size: 1.05rem; flex: 1; }
    .section-status { font-size: 1.3rem; flex-shrink: 0; }
    .section-chevron { color: #94a3b8; font-size: 0.8rem; transition: transform 0.2s; }
    .section.open .section-chevron { transform: rotate(180deg); }
    .section-body { padding: 1.5rem; display: none; }
    .section.open .section-body { display: block; }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.88rem;
      margin-top: 1rem;
    }
    th {
      background: #f8fafc;
      padding: 0.65rem 1rem;
      text-align: left;
      font-weight: 600;
      color: #475569;
      border-bottom: 2px solid #e2e8f0;
    }
    td {
      padding: 0.65rem 1rem;
      border-bottom: 1px solid #f1f5f9;
      vertical-align: top;
    }
    tr:last-child td { border-bottom: none; }
    .badge {
      display: inline-block;
      padding: 0.2rem 0.55rem;
      border-radius: 6px;
      font-size: 0.78rem;
      font-weight: 600;
      white-space: nowrap;
    }
    .badge-ok { background: #dcfce7; color: #166534; }
    .badge-warn { background: #fef3c7; color: #92400e; }
    .badge-fail { background: #fee2e2; color: #991b1b; }
    .badge-info { background: #f1f5f9; color: #475569; }

    .law-box {
      background: #eff6ff;
      border-left: 4px solid #2563eb;
      padding: 0.9rem 1.1rem;
      border-radius: 0 8px 8px 0;
      margin-bottom: 1.2rem;
      font-size: 0.9rem;
    }
    .law-box strong { color: #1e40af; }
    .law-box ul { margin-left: 1.2rem; margin-top: 0.4rem; }
    .law-box li { margin-bottom: 0.2rem; }

    .note-box {
      background: #fefce8;
      border-left: 4px solid #ca8a04;
      padding: 0.75rem 1rem;
      border-radius: 0 8px 8px 0;
      margin: 1rem 0;
      font-size: 0.88rem;
      color: #713f12;
    }

    .gaps-list { list-style: none; margin-top: 0.5rem; }
    .gaps-list li {
      padding: 0.75rem 1rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      font-size: 0.9rem;
      background: #fef9c3;
    }
    .gap-tag {
      font-size: 0.7rem;
      font-weight: 700;
      padding: 0.15rem 0.45rem;
      border-radius: 4px;
      white-space: nowrap;
      flex-shrink: 0;
      margin-top: 0.15rem;
      background: #a16207;
      color: white;
    }

    .fine-table td:last-child { font-weight: 700; color: #dc2626; }

    .controls {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      justify-content: flex-end;
    }
    .btn {
      padding: 0.4rem 1rem;
      border-radius: 7px;
      border: 1px solid #e2e8f0;
      background: white;
      color: #475569;
      font-size: 0.82rem;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.15s;
    }
    .btn:hover { background: #f1f5f9; border-color: #cbd5e1; }

    h3 { font-size: 0.95rem; color: #1e293b; margin: 1rem 0 0.5rem; font-weight: 600; }
    p { color: #475569; font-size: 0.9rem; margin-bottom: 0.5rem; }
    code { background: #f1f5f9; padding: 0.1rem 0.35rem; border-radius: 4px; font-size: 0.82rem; color: #1e40af; }

    .hint-box {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      padding: 1rem 1.2rem;
      font-size: 0.85rem;
      color: #64748b;
      margin-top: 2rem;
      text-align: center;
    }
    .hint-box strong { color: #1e293b; }
    .ok-note { margin-top: 0.75rem; color: #16a34a; font-weight: 600; font-size: 0.9rem; }
  </style>
</head>
<body>

<div class="header">
  <h1>ArbZG-Compliance â€“ PraxisZeit</h1>
  <p class="subtitle">VollstÃ¤ndiger Abgleich: Arbeitszeitgesetz â†” Implementierungsstand</p>
  <div class="date-badge">Stand: 28.02.2026 &nbsp;Â·&nbsp; Gesetzesquelle: <a href="https://www.gesetze-im-internet.de/arbzg/" style="color:white">gesetze-im-internet.de/arbzg</a></div>
</div>

<div class="container">

  <div class="summary-grid">
    <div class="summary-card ok">
      <div class="icon">âœ…</div>
      <div class="count">8</div>
      <div class="label">VollstÃ¤ndig konform</div>
    </div>
    <div class="summary-card warn">
      <div class="icon">âš ï¸</div>
      <div class="count">1</div>
      <div class="label">Weitgehend / Teilweise</div>
    </div>
    <div class="summary-card info">
      <div class="icon">ğŸ“‹</div>
      <div class="count">7</div>
      <div class="label">Offene LÃ¼cken</div>
    </div>
    <div class="summary-card fine">
      <div class="icon">ğŸ’¶</div>
      <div class="count">30.000 â‚¬</div>
      <div class="label">Max. BuÃŸgeld pro VerstoÃŸ</div>
    </div>
  </div>

  <div class="controls">
    <button class="btn" onclick="setAll(true)">Alle aufklappen</button>
    <button class="btn" onclick="setAll(false)">Alle zuklappen</button>
  </div>

  <!-- Â§ 2 -->
  <div class="section" id="s2">
    <div class="section-header" onclick="toggle('s2')">
      <span class="section-par">Â§ 2</span>
      <span class="section-title">Begriffsbestimmungen (Nachtarbeit)</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Definitionen:</strong>
        <ul>
          <li><strong>Nachtzeit:</strong> 23:00â€“06:00 Uhr (Abs. 3)</li>
          <li><strong>Nachtarbeit:</strong> Arbeit, die <strong>mehr als zwei Stunden</strong> der Nachtzeit umfasst (Abs. 4)</li>
          <li><strong>Nachtarbeitnehmer:</strong> wer regelmÃ¤ÃŸig Nachtschicht leistet <strong>oder</strong> an mind. <strong>48 Tagen/Jahr</strong> Nachtarbeit leistet (Abs. 5)</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Nachtzeit-Fenster (23â€“6 Uhr)</td>
          <td><span class="badge badge-ok">âœ… Korrekt</span></td>
          <td><code>_is_night_work()</code> in <code>time_entries.py</code> verwendet korrekt 23â€“6 Uhr</td>
        </tr>
        <tr>
          <td>Nachtarbeit-Schwellwert &gt;2h (Abs. 4) + <code>is_night_worker</code>-Flag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>_is_night_work()</code> prÃ¼ft minutengenau ob &gt;2h (120 min) in Nachtzeit (23:00â€“06:00) fallen (Â§2 Abs. 4 ArbZG). <code>is_night_worker</code>-Flag auf User-Ebene (Migration 017, Admin-UI Checkbox).</td>
        </tr>
        <tr>
          <td>Nachtarbeitnehmer-Schwellwert (â‰¥48 Tage)</td>
          <td><span class="badge badge-ok">âœ… Korrekt</span></td>
          <td>Admin-Report <code>/api/admin/reports/night-work-summary</code> verwendet korrekt â‰¥48-Tage-Markierung</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- Â§ 3 -->
  <div class="section open" id="s3">
    <div class="section-header" onclick="toggle('s3')">
      <span class="section-par">Â§ 3</span>
      <span class="section-title">TÃ¤gliche HÃ¶chstarbeitszeit + 48h-Wochengrenze</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Max. <strong>8 Stunden</strong> werktÃ¤gliche Arbeitszeit</li>
          <li>VerlÃ¤ngerung auf <strong>10 Stunden</strong> erlaubt, wenn Ausgleich innerhalb <strong>6 Kalendermonaten / 24 Wochen</strong> auf â‰¤ 8h Durchschnitt erfolgt</li>
          <li>Implizierte Wochengrenze: 6 Werktage Ã— 8h Durchschnitt = <strong>48h/Woche</strong></li>
        </ul>
      </div>
      <div class="note-box" style="background:#f0fdf4; border-left-color:#16a34a; color:#14532d;">
        <strong>âœ… Code-Kommentar behoben (Commit <code>a488985</code>):</strong> <code>MAX_WEEKLY_HOURS_WARN = 48.0</code> in <code>time_entries.py</code> trÃ¤gt nun den korrekten Kommentar <code># Â§3 ArbZG: 6 Werktage Ã— 8h Durchschnitt = 48h/Woche</code> statt des frÃ¼heren <code># Â§14 ArbZG</code>.
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Warnung bei &gt; 8h/Tag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>DAILY_HOURS_WARNING</code> Flag + Frontend-Toast bei create / update / clock_out</td>
        </tr>
        <tr>
          <td>Hard-Stop bei &gt; 10h/Tag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>HTTP 422 bei allen Eingabepfaden (Mitarbeiter, Admin-Direkteintrag, Ã„nderungsantrÃ¤ge)</td>
        </tr>
        <tr>
          <td>Â§3-Check bei Admin-Direkteintrag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>admin.py: admin_create_time_entry / admin_update_time_entry</code> â€“ Â§3-Check nach Â§4-PrÃ¼fung</td>
        </tr>
        <tr>
          <td>Â§3-Check bei Ã„nderungsantrÃ¤gen</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>change_requests.py</code> prÃ¼ft Â§3 nach Genehmigung</td>
        </tr>
        <tr>
          <td>Warnung bei &gt; 48h/Woche</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>WEEKLY_HOURS_WARNING</code> + Frontend-Toast bei allen Eingabepfaden</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme â€“ Mitarbeiter-Pfad</td>
          <td><span class="badge badge-ok">âœ… Korrekt</span></td>
          <td><code>exempt_from_arbzg</code> korrekt geprÃ¼ft in <code>time_entries.py</code></td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme â€“ Admin-Pfad</td>
          <td><span class="badge badge-ok">âœ… Behoben</span></td>
          <td>Fix Commit <code>a488985</code>: <code>admin.py</code> prÃ¼ft <code>exempt_from_arbzg</code> vor allen Â§3/Â§4/Â§6-Checks in <code>admin_create_time_entry</code> und <code>admin_update_time_entry</code></td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme â€“ Ã„nderungsantrags-Pfad</td>
          <td><span class="badge badge-ok">âœ… Behoben</span></td>
          <td>Fix Commit <code>a488985</code>: <code>change_requests.py</code> prÃ¼ft <code>exempt_from_arbzg</code> vor Â§4/Â§3-Checks und Â§6-Nachtarbeiter-Warnung in <code>create_change_request</code></td>
        </tr>
        <tr>
          <td>6-Monats-Ausgleichszeitraum</td>
          <td><span class="badge badge-warn">âš ï¸ Nicht getrackt</span></td>
          <td>Kein gleitender Durchschnitt; manuelle Dokumentationsaufgabe des Arbeitgebers</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- Â§ 4 -->
  <div class="section open" id="s4">
    <div class="section-header" onclick="toggle('s4')">
      <span class="section-par">Â§ 4</span>
      <span class="section-title">Ruhepausen (Pflichtpausen)</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Arbeit &gt; 6 Stunden â†’ mind. <strong>30 Minuten</strong> Pause</li>
          <li>Arbeit &gt; 9 Stunden â†’ mind. <strong>45 Minuten</strong> Pause</li>
          <li><strong>LÃ¤nger als 6 Stunden am StÃ¼ck</strong> darf nicht ohne Ruhepause gearbeitet werden (Satz 3)</li>
          <li>Pausen kÃ¶nnen aufgeteilt werden (mind. 15 min je Einheit)</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Pausenfeld im Zeiteintrag</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>break_minutes</code> bei allen ZeiteintrÃ¤gen erfasst und gespeichert</td>
        </tr>
        <tr>
          <td>&gt;6h â†’ mind. 30min Pause</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>break_validation_service.validate_daily_break()</code> â€“ aktiv bei create / update / clock_out / admin / change_requests</td>
        </tr>
        <tr>
          <td>&gt;9h â†’ mind. 45min Pause</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>break_validation_service.py</code> prÃ¼ft 9h/45min vor 6h/30min</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme â€“ Mitarbeiter-Pfad</td>
          <td><span class="badge badge-ok">âœ… Korrekt</span></td>
          <td>Pausenpflicht-Checks werden fÃ¼r leitende Angestellte Ã¼bersprungen (MA-Selbstservice-Pfad)</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme â€“ Admin-Pfad + Ã„nderungsantrÃ¤ge</td>
          <td><span class="badge badge-ok">âœ… Behoben</span></td>
          <td>Fix Commit <code>a488985</code>: <code>exempt_from_arbzg</code> jetzt korrekt geprÃ¼ft in <code>admin.py</code> und <code>change_requests.py</code></td>
        </tr>
        <tr>
          <td>Pausen-Timing: max. 6h am StÃ¼ck (Satz 3)</td>
          <td><span class="badge badge-warn">âš ï¸ Nicht prÃ¼fbar</span></td>
          <td>Das System prÃ¼ft die <em>Gesamtdauer</em> der Pause, nicht wann sie genommen wurde. Start/Ende der Pause nicht erfasst â†’ 6h-KontinuitÃ¤tsregel systemisch nicht prÃ¼fbar.</td>
        </tr>
      </table>
      <p style="margin-top:0.75rem; color:#92400e; font-size:0.88rem;">Das Pausen-Timing (Â§4 Satz 3) ist in Zeiterfassungssystemen ohne Pausen-Timestamp generell nicht prÃ¼fbar. FÃ¼r geregelte Praxiszeiten mit festen Mittagspausen kein praktisches Risiko.</p>
    </div>
  </div>

  <!-- Â§ 5 -->
  <div class="section open" id="s5">
    <div class="section-header" onclick="toggle('s5')">
      <span class="section-par">Â§ 5</span>
      <span class="section-title">Mindestruhezeit zwischen Schichten</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Mind. <strong>11 Stunden ununterbrochene Ruhezeit</strong> nach Arbeitsende (Abs. 1)</li>
          <li>Ausnahmen (Abs. 2): KrankenhÃ¤user, Pflegeeinrichtungen, Gastronomie â€“ Reduktion auf 10h mÃ¶glich mit Ausgleich auf â‰¥ 12h innerhalb 4 Wochen</li>
          <li>Bereitschaftsdienst (Abs. 3): In Kliniken/Pflegeeinrichtungen Ausgleich zu anderer Zeit mÃ¶glich</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>11h-PrÃ¼fung zwischen Schichten</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>rest_time_service.check_rest_time_violations()</code></td>
        </tr>
        <tr>
          <td>Admin-Report Ruhezeit-VerstÃ¶ÃŸe</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/rest-time-violations</code> mit Jahr, optionalem Monat, konfigurierbarem Schwellwert</td>
        </tr>
        <tr>
          <td>Frontend-Anzeige</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Admin Reports-Seite zeigt betroffene Mitarbeiter, Datum und Stunden-Defizit</td>
        </tr>
        <tr>
          <td>Split-Schicht-Erkennung</td>
          <td><span class="badge badge-ok">âœ… Behoben</span></td>
          <td><strong>Fix Commit <code>a488985</code>:</strong> <code>rest_time_service.py</code> gruppiert EintrÃ¤ge jetzt nach Datum und vergleicht nur noch <code>max(end_time)</code> des Vortages mit <code>min(start_time)</code> des Folgetages â€“ keine False Positives bei Splitschichten mehr.</td>
        </tr>
        <tr>
          <td>Â§5 Abs. 2 Ausgleichs-Tracking (Reduktion auf 10h)</td>
          <td><span class="badge badge-info">â„¹ï¸ Nicht impl.</span></td>
          <td>11h-Grenze ist fest; Ausgleich auf 12h innerhalb 4 Wochen nicht getrackt. FÃ¼r Arztpraxen ohne Bereitschaftsdienst kein Risiko.</td>
        </tr>
      </table>
      <div class="note-box" style="margin-top:1rem; background:#f0fdf4; border-left-color:#16a34a; color:#14532d;">
        <strong>âœ… Bug behoben (Commit <code>a488985</code>):</strong> <code>check_rest_time_violations()</code> verwendet jetzt Datumsgruppierung: pro Tag wird <code>max(end_time)</code> (letzter Eintrag) und <code>min(start_time)</code> (erster Eintrag) ermittelt. AnschlieÃŸend werden nur aufeinanderfolgende Tage verglichen â€“ Splitschichten erzeugen keine falschen VerstÃ¶ÃŸe mehr.
      </div>
    </div>
  </div>

  <!-- Â§ 6 -->
  <div class="section open" id="s6">
    <div class="section-header" onclick="toggle('s6')">
      <span class="section-par">Â§ 6</span>
      <span class="section-title">Nacht- und Schichtarbeit</span>
      <span class="section-status">âš ï¸</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li><strong>Nachtzeit:</strong> 23:00â€“06:00 Uhr (Â§ 2 Abs. 3)</li>
          <li><strong>Nachtarbeitnehmer:</strong> mind. 48 NÃ¤chte/Jahr oder regelmÃ¤ÃŸige Nachtschicht</li>
          <li>Max. <strong>8 Stunden/Nacht</strong> fÃ¼r Nachtarbeitnehmer, verlÃ¤ngerbar auf 10h mit Ausgleich innerhalb <strong>1 Monat</strong> (Abs. 2)</li>
          <li>Anspruch auf <strong>arbeitsmedizinische Untersuchung</strong> vor BeschÃ¤ftigungsbeginn, alle 3 Jahre (ab 50: jÃ¤hrlich) (Abs. 3)</li>
          <li>Recht auf <strong>Wechsel zum Tagesarbeitsplatz</strong> bei GesundheitsgefÃ¤hrdung, Kind &lt;12 J., pflegebedÃ¼rftigen AngehÃ¶rigen (Abs. 4)</li>
          <li>Anspruch auf <strong>25% Lohnzuschlag oder gleichwertige Freizeit</strong> (Abs. 5)</li>
          <li><strong>Gleicher Zugang zur Weiterbildung</strong> wie Tagarbeitnehmer (Abs. 6)</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Erkennung Nachtarbeit (23â€“6 Uhr)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>_is_night_work()</code> in <code>time_entries.py</code></td>
        </tr>
        <tr>
          <td><code>is_night_work</code> Flag in API</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>In allen <code>TimeEntryResponse</code>-Endpoints zurÃ¼ckgegeben</td>
        </tr>
        <tr>
          <td>â€Nacht"-Badge im Frontend</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Indigo-Badge in <code>TimeTracking.tsx</code></td>
        </tr>
        <tr>
          <td>Admin-Report: Nachtarbeit-Statistik</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/night-work-summary</code> â€“ Nachtschichten/MA, Nachtarbeitnehmer-Markierung (â‰¥48 Tage/Jahr), MonatsaufschlÃ¼sselung</td>
        </tr>
        <tr>
          <td>Strengere 8h-Grenze fÃ¼r Nachtarbeitnehmer (Abs. 2) â€“ alle Pfade</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>is_night_worker</code>-Flag auf User-Ebene; Warnung bei &gt;8h Nachtarbeit in allen 6 Validierungspfaden (create/update/clock-out/admin-create/admin-update/change-request)</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme (exempt_from_arbzg) â€“ alle Pfade</td>
          <td><span class="badge badge-ok">âœ… Behoben</span></td>
          <td>Fix Commit <code>a488985</code>: <code>exempt_from_arbzg</code> jetzt in allen 3 Pfaden korrekt geprÃ¼ft â€“ MA-Selbstservice, Admin-Direkteintrag und Ã„nderungsantrÃ¤ge</td>
        </tr>
        <tr>
          <td>KÃ¼rzerer 1-Monat-Ausgleich fÃ¼r Nachtarbeitnehmer (Abs. 2)</td>
          <td><span class="badge badge-warn">âš ï¸ Warnung</span></td>
          <td>Warnung enthÃ¤lt Hinweis auf 1-Monats-Ausgleichspflicht; automatisches Tracking nicht implementiert (selten relevant)</td>
        </tr>
        <tr>
          <td>Tracking arbeitsmedizinischer Untersuchungen (Abs. 3)</td>
          <td><span class="badge badge-warn">âš ï¸ HR-Aufgabe</span></td>
          <td>Dokumentation in Personalakte bleibt Arbeitgeberpflicht; <strong>UI-Hinweis</strong> in Admin-Reports ergÃ¤nzt (Commit <code>a488985</code>): Pflichtuntersuchung vor Beginn, alle 3 Jahre, ab 50 jÃ¤hrlich, Kosten trÃ¤gt Arbeitgeber</td>
        </tr>
        <tr>
          <td>Recht auf Tagesarbeitsplatz (Abs. 4)</td>
          <td><span class="badge badge-info">â„¹ï¸ AuÃŸerhalb System</span></td>
          <td>Arbeitgeber-Pflicht bei gesundheitlichem Nachweis, Kind &lt;12 J. oder Pflege â€“ nicht systemisch abbildbar</td>
        </tr>
        <tr>
          <td>Lohnzuschlag / Freizeitausgleich (Abs. 5)</td>
          <td><span class="badge badge-warn">âš ï¸ Lohnbuchhaltung</span></td>
          <td>Abwicklung in Lohnbuchhaltung; <strong>UI-Hinweis</strong> in Admin-Reports ergÃ¤nzt (Commit <code>a488985</code>): 25% Lohnzuschlag oder gleichwertige bezahlte Freizeit</td>
        </tr>
        <tr>
          <td>Gleicher Zugang zur Weiterbildung (Abs. 6)</td>
          <td><span class="badge badge-info">â„¹ï¸ AuÃŸerhalb System</span></td>
          <td>Organisationspflicht des Arbeitgebers, nicht im Zeiterfassungssystem abbildbar</td>
        </tr>
      </table>
      <p style="margin-top:0.75rem; color:#92400e; font-size:0.88rem;">Abs. 4â€“6 sind Arbeitgeber-Pflichten, die kein Zeiterfassungssystem vollstÃ¤ndig abbilden kann. Der Â§18-Bypass-Bug (Abs. 2) wurde in Commit <code>a488985</code> behoben; fÃ¼r Abs. 3 und Abs. 5 wurden informierende UI-Hinweise in der Admin-Reports-Seite ergÃ¤nzt.</p>
    </div>
  </div>

  <!-- Â§ 9/10 -->
  <div class="section open" id="s9">
    <div class="section-header" onclick="toggle('s9')">
      <span class="section-par">Â§Â§ 9/10</span>
      <span class="section-title">Sonn- und Feiertagsruhe</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht (Â§ 9):</strong> BeschÃ¤ftigungsverbot 0â€“24 Uhr<br>
        <strong>Ausnahmen (Â§ 10):</strong> u.a. Nr. 3 Gesundheitsversorgung/Pflege, Notdienst â†’ dokumentationspflichtig
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Sonntagserkennung</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>weekday() == 6</code> in <code>_enrich_response()</code></td>
        </tr>
        <tr>
          <td>Feiertagserkennung</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>is_holiday()</code> via <code>workalendar</code>-DB (alle BundeslÃ¤nder, default Bayern)</td>
        </tr>
        <tr>
          <td><code>is_sunday_or_holiday</code> Flag in API</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>In allen TimeEntry-Responses</td>
        </tr>
        <tr>
          <td><code>SUNDAY_WORK</code> / <code>HOLIDAY_WORK</code> Warnings</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>In API-Response + Frontend-Toast</td>
        </tr>
        <tr>
          <td>Visuelles Highlighting (orange)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Tabellenzeilen + â€So/FT"-Badge in <code>TimeTracking.tsx</code></td>
        </tr>
        <tr>
          <td>Ausnahmegrund-Feld (Â§ 10 ArbZG)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Optionales Textfeld <code>sunday_exception_reason</code> erscheint im Formular bei Sonn-/Feiertagen</td>
        </tr>
        <tr>
          <td>Â§18-Ausnahme (exempt_from_arbzg)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Warnungen fÃ¼r leitende Angestellte unterdrÃ¼ckt</td>
        </tr>
      </table>
      <p class="ok-note">Â§Â§ 9/10 sind vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Â§ 11 -->
  <div class="section open" id="s11">
    <div class="section-header" onclick="toggle('s11')">
      <span class="section-par">Â§ 11</span>
      <span class="section-title">Ausgleich nach Sonn- und Feiertagsarbeit</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Mind. <strong>15 beschÃ¤ftigungsfreie Sonntage</strong> pro Jahr pro Arbeitnehmer</li>
          <li>Ersatzruhetag nach Sonntagsarbeit: innerhalb <strong>2 Wochen</strong> (inkl. BeschÃ¤ftigungstag)</li>
          <li>Ersatzruhetag nach Feiertagsarbeit: innerhalb <strong>8 Wochen</strong></li>
          <li>Ersatzruhetag unmittelbar in Verbindung mit tÃ¤glicher Ruhezeit nach Â§5 (Abs. 4)</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>15-freie-Sonntage Compliance</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/sunday-summary</code> mit GrÃ¼n/Rot-Bewertung + Frontend-Tabelle</td>
        </tr>
        <tr>
          <td>Ersatzruhetag-Tracking (2 Wochen, Sonntag)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>GET /api/admin/reports/compensatory-rest</code> â€“ prÃ¼ft freien Tag innerhalb 14 Tage nach Sonntagsarbeit</td>
        </tr>
        <tr>
          <td>Ersatzruhetag-Tracking (8 Wochen, Feiertag)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Selber Endpoint â€“ 56-Tage-Fenster fÃ¼r Feiertagsarbeit</td>
        </tr>
        <tr>
          <td>Frontend-Report</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Sektion â€Ersatzruhetage Â§11 ArbZG" in Admin-Reports mit VerstoÃŸ-Tabelle</td>
        </tr>
      </table>
      <p class="ok-note">Â§ 11 ist vollstÃ¤ndig konform implementiert. âœ…</p>
    </div>
  </div>

  <!-- Â§ 14 -->
  <div class="section" id="s14">
    <div class="section-header" onclick="toggle('s14')">
      <span class="section-par">Â§ 14</span>
      <span class="section-title">AuÃŸergewÃ¶hnliche FÃ¤lle (Notfall-Ausnahmen)</span>
      <span class="section-status">â„¹ï¸</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Regelung:</strong><br>
        Â§14 erlaubt vorÃ¼bergehende <strong>Ausnahmen</strong> von Â§Â§3â€“5, 6 Abs. 2, Â§Â§7, 9â€“11 bei <strong>NotfÃ¤llen</strong> und auÃŸergewÃ¶hnlichen Situationen (z.B. drohender Verderb von Rohstoffen, Katastrophen), die unabhÃ¤ngig vom Willen der Betroffenen eintreten.<br><br>
        Â§14 Abs. 3: Auch in AusnahmefÃ¤llen gilt die Obergrenze von <strong>48h/Woche im 6-Monats-Durchschnitt</strong>.
      </div>
      <div class="note-box">
        <strong>Klarstellung:</strong> Â§14 ist eine <em>Notfall-Ausnahmeregel</em>, kein Regelfall. Die <code>WEEKLY_HOURS_WARNING</code> bei 48h implementiert die Schutzintention aus <strong>Â§3</strong> (6 Werktage Ã— 8h Durchschnitt). Â§7 Abs. 8 wiederholt diese Grenze fÃ¼r TarifvertragsfÃ¤lle, Â§14 Abs. 3 fÃ¼r NotfallfÃ¤lle. Der Code-Kommentar <code># Â§14 ArbZG</code> in <code>time_entries.py</code> Zeile 22 ist irrefÃ¼hrend â€“ korrekt: <code># Â§3 ArbZG</code>.
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Â§14-Notfall-Ausnahmen</td>
          <td><span class="badge badge-info">â„¹ï¸ Nicht anwendbar</span></td>
          <td>Â§14-Ausnahmen setzen auÃŸergewÃ¶hnliche NotfÃ¤lle voraus; fÃ¼r Regelzeiterfassung nicht relevant</td>
        </tr>
        <tr>
          <td>48h/Woche-Obergrenze (aus Â§3/Â§14 Abs. 3)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>WEEKLY_HOURS_WARNING</code> bei Ãœberschreitung von 48h/Woche â€“ korrekt implementiert</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- Â§ 16 -->
  <div class="section open" id="s16">
    <div class="section-header" onclick="toggle('s16')">
      <span class="section-par">Â§ 16</span>
      <span class="section-title">Aufzeichnungs- und Aufbewahrungspflicht</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Pflicht:</strong>
        <ul>
          <li>Aufzeichnung aller Arbeitszeiten &gt; 8h werktÃ¤glich (Abs. 2)</li>
          <li>Aufbewahrung mind. <strong>2 Jahre</strong> (Abs. 2)</li>
          <li>Liste der Arbeitnehmer nach Â§7 Abs. 7 (Einwilligung zu Ãœberstunden) fÃ¼hren (Abs. 2)</li>
          <li><strong>Gesetzesaushang</strong> (Kopie ArbZG) am Arbeitsplatz oder Ã¼ber betriebliche IT zugÃ¤nglich (Abs. 1)</li>
        </ul>
      </div>
      <div class="note-box">
        <strong>EuGH &amp; BAG Kontext:</strong> EuGH C-55/18 (2019) und BAG 1 ABR 22/21 (2022) etablieren eine weitergehende Pflicht zur Aufzeichnung <em>aller</em> Arbeitszeiten. Deutschland bereitet eine ArbZG-Reform vor (Stand: Aug. 2025 als Referentenentwurf). PraxisZeit zeichnet bereits <strong>alle</strong> Stunden lÃ¼ckenlos auf â€“ Ã¼bertrifft damit Â§16-Mindestanforderung und ist ideal positioniert.
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>VollstÃ¤ndige Zeiterfassung in DB</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Start, Ende, Pausen, Datum, Mitarbeiter, Ausnahmegrund (<code>sunday_exception_reason</code>)</td>
        </tr>
        <tr>
          <td>2-Jahres-Aufbewahrung dokumentiert</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>INSTALLATION.md</code>: Backup-Anleitung + Retention-Prozess; Kommentar in <code>docker-compose.yml</code></td>
        </tr>
        <tr>
          <td>Â§16-Hinweis im Admin-Frontend</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Reports-Seite unter â€Hinweise" mit 2-Jahres-Verweis</td>
        </tr>
        <tr>
          <td>Excel-Export als Nachweis (.xlsx)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>3 Exportvarianten: Monatsreport, Jahresreport Classic, Jahresreport Detailliert</td>
        </tr>
        <tr>
          <td>ODS-Export als Nachweis (.ods)</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Alle 3 Varianten auch als ODS (Open Document) seit Commit <code>a503e4f</code></td>
        </tr>
        <tr>
          <td>ArbZG-relevante Felder in Exports</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>sunday_exception_reason</code>, Nachtarbeit-Flag, <code>is_night_worker</code>, <code>exempt_from_arbzg</code> in allen Exports seit <code>6894f56</code></td>
        </tr>
        <tr>
          <td>Gesetzesaushang / Link zum ArbZG</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Link zu gesetze-im-internet.de/arbzg in Admin-Reports unter â€Hinweise"</td>
        </tr>
      </table>
      <p class="ok-note">Â§ 16 ist vollstÃ¤ndig konform implementiert â€“ PraxisZeit Ã¼bertrifft die gesetzliche Mindestanforderung. âœ…</p>
    </div>
  </div>

  <!-- Â§ 18 -->
  <div class="section open" id="s18">
    <div class="section-header" onclick="toggle('s18')">
      <span class="section-par">Â§ 18</span>
      <span class="section-title">Ausnahmen fÃ¼r leitende Angestellte (Nichtanwendung)</span>
      <span class="section-status">âœ…</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <div class="law-box">
        <strong>Gesetzliche Regelung (Â§18 Abs. 1):</strong>
        <ul>
          <li><strong>Nr. 1:</strong> Leitende Angestellte i.S. Â§5 Abs. 3 BetrVG sowie <strong>ChefÃ¤rzte</strong> â€“ vollstÃ¤ndig vom ArbZG ausgenommen. Gilt auch fÃ¼r Praxisinhaber.</li>
          <li><strong>Nr. 2:</strong> BehÃ¶rdenleiter (Ã¶ffentlicher Dienst â€“ fÃ¼r Arztpraxen nicht relevant)</li>
          <li><strong>Nr. 3:</strong> Arbeitnehmer in hÃ¤uslicher Gemeinschaft mit betreuten Personen (Pflegepersonen im Haushalt â€“ selten relevant)</li>
        </ul>
      </div>
      <table>
        <tr><th>Anforderung</th><th>Status</th><th>Details</th></tr>
        <tr>
          <td>Ausnahme-Flag auf Benutzerebene</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td><code>User.exempt_from_arbzg</code> (Boolean) â€“ DB-Spalte in Migration 016</td>
        </tr>
        <tr>
          <td>Admin-UI zur Verwaltung</td>
          <td><span class="badge badge-ok">âœ… Implementiert</span></td>
          <td>Checkbox â€ArbZG-PrÃ¼fungen aussetzen (Â§18 ArbZG)" in Benutzerverwaltung</td>
        </tr>
        <tr>
          <td>Bypass aller Checks â€“ Mitarbeiter-Selbstservice-Pfad</td>
          <td><span class="badge badge-ok">âœ… Korrekt</span></td>
          <td>Alle Â§3/Â§4-Checks und DAILY/WEEKLY/SUNDAY/HOLIDAY-Warnungen Ã¼bersprungen in <code>time_entries.py</code></td>
        </tr>
        <tr>
          <td>Bypass â€“ Admin-Direkteintrag-Pfad</td>
          <td><span class="badge badge-ok">âœ… Behoben</span></td>
          <td>Fix Commit <code>a488985</code>: <code>admin.py â†’ admin_create/update_time_entry</code> prÃ¼ft <code>exempt_from_arbzg</code> vor allen Â§3/Â§4/Â§6-Checks; User-Fetch nach oben verschoben</td>
        </tr>
        <tr>
          <td>Bypass â€“ Ã„nderungsantrags-Pfad</td>
          <td><span class="badge badge-ok">âœ… Behoben</span></td>
          <td>Fix Commit <code>a488985</code>: <code>change_requests.py â†’ create_change_request</code> prÃ¼ft <code>exempt_from_arbzg</code> vor Â§4-Break-Check, Â§3-Hard-Stop und Â§6-Nachtarbeiter-Warnung</td>
        </tr>
      </table>
      <div class="note-box" style="margin-top:1rem; background:#f0fdf4; border-left-color:#16a34a; color:#14532d;">
        <strong>âœ… VollstÃ¤ndig behoben (Commit <code>a488985</code>):</strong> Alle drei Eingabepfade (MA-Selbstservice, Admin-Direkteintrag, Ã„nderungsantrag) berÃ¼cksichtigen <code>exempt_from_arbzg</code> jetzt korrekt. Â§18-Befreite (Praxisinhaber, ChefÃ¤rzte) kÃ¶nnen in allen Wegen EintrÃ¤ge &gt;10h anlegen ohne ArbZG-Fehler.
      </div>
    </div>
  </div>

  <!-- Verbleibende LÃ¼cken und Bugs -->
  <div class="section open" id="gaps">
    <div class="section-header" onclick="toggle('gaps')">
      <span class="section-par">LÃ¼cken</span>
      <span class="section-title">LÃ¼cken &amp; Bugs â€“ GesamtÃ¼berblick</span>
      <span class="section-status">ğŸ“‹</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <p style="margin-bottom:0.75rem; font-size:0.88rem; color:#475569;">ğŸ”´ = Bug (Fehler im Code) &nbsp;|&nbsp; ğŸŸ¡ = LÃ¼cke (fehlende Funktion) &nbsp;|&nbsp; ğŸ”µ = AuÃŸerhalb System (HR/Lohnbuchhaltung)</p>
      <ul class="gaps-list">
        <li style="background:#f0fdf4; opacity:0.75;">
          <span class="gap-tag" style="background:#16a34a;">Â§5 âœ…</span>
          <div><strong>Split-Schicht-Bug behoben</strong> â€“ <code>rest_time_service.py</code> verwendet Datumsgruppierung (Commit <code>a488985</code>). Keine False Positives bei Splitschichten mehr.</div>
        </li>
        <li style="background:#f0fdf4; opacity:0.75;">
          <span class="gap-tag" style="background:#16a34a;">Â§18 âœ…</span>
          <div><strong>exempt_from_arbzg-Bypass vollstÃ¤ndig</strong> â€“ <code>admin.py</code> und <code>change_requests.py</code> prÃ¼fen <code>exempt_from_arbzg</code> korrekt (Commit <code>a488985</code>). Alle 3 Pfade konform.</div>
        </li>
        <li style="background:#f0fdf4; opacity:0.75;">
          <span class="gap-tag" style="background:#16a34a;">Â§3 âœ…</span>
          <div><strong>Code-Kommentar korrigiert</strong> â€“ <code>MAX_WEEKLY_HOURS_WARN = 48.0 # Â§3 ArbZG</code> (war: <code># Â§14 ArbZG</code>) in <code>time_entries.py</code> (Commit <code>a488985</code>).</div>
        </li>
        <li>
          <span class="gap-tag">Â§3</span>
          <div><strong>6-Monats-Ausgleichszeitraum</strong> â€“ Kein gleitender Durchschnitt fÃ¼r die 8h-Tagesgrenze. Manuelle Dokumentationsaufgabe des Arbeitgebers. Technisch komplex, selten relevant bei typischen Praxisarbeitszeiten.</div>
        </li>
        <li>
          <span class="gap-tag">Â§4 Satz 3</span>
          <div><strong>Pausen-Timing (max. 6h am StÃ¼ck)</strong> â€“ Das System prÃ¼ft die Mindest-Pausendauer, aber nicht wann die Pause genommen wurde. Da Start/Ende der Pause nicht erfasst werden, ist die 6h-KontinuitÃ¤tsregel nicht systemisch prÃ¼fbar. Gilt fÃ¼r alle Zeiterfassungssysteme ohne Pausen-Timestamp.</div>
        </li>
        <li>
          <span class="gap-tag">Â§6 Abs. 2</span>
          <div><strong>1-Monat-Ausgleichs-Tracking fÃ¼r Nachtarbeitnehmer</strong> â€“ Die 8h-Warnung enthÃ¤lt den Hinweis auf 1-Monat-Ausgleich. Automatisches Tracking nicht implementiert; bei Arztpraxen mit seltener Nachtarbeit wenig relevant.</div>
        </li>
        <li>
          <span class="gap-tag">Â§6 Abs. 3</span>
          <div><strong>Arbeitsmedizinische Untersuchungen</strong> â€“ Anspruch auf Untersuchung fÃ¼r Nachtarbeitnehmer (vor Beginn, alle 3 Jahre, ab 50: jÃ¤hrlich). Verwaltungsaufgabe des Arbeitgebers; <strong>UI-Hinweis in Reports-Seite</strong> ergÃ¤nzt (Commit <code>a488985</code>).</div>
        </li>
        <li>
          <span class="gap-tag">Â§6 Abs. 5</span>
          <div><strong>Lohnzuschlag / Freizeitausgleich Nachtarbeit</strong> â€“ 25% Zuschlag oder gleichwertige Freizeit. Lohnbuchhaltungsaufgabe; <strong>UI-Hinweis in Reports-Seite</strong> ergÃ¤nzt (Commit <code>a488985</code>).</div>
        </li>
        <li>
          <span class="gap-tag">Â§7</span>
          <div><strong>Tarifvertragliche Abweichungen</strong> â€“ Wenn ein Tarifvertrag gilt, kÃ¶nnen andere Grenzwerte gelten (z.B. verlÃ¤ngerte TageshÃ¶chstarbeitszeit, modifizierte Ruhezeiten). PraxisZeit verwendet feste gesetzliche 8h/10h/48h-Werte ohne KonfigurationsmÃ¶glichkeit.</div>
        </li>
        <li>
          <span class="gap-tag">Â§16</span>
          <div><strong>Â§7 Abs. 7 Opt-in-Register</strong> â€“ Â§16 Abs. 2 verlangt eine Liste der Arbeitnehmer, die nach Â§7 Abs. 7 in Ãœberstunden eingewilligt haben. Nur relevant bei Praxen mit entsprechendem Tarifvertrag; fÃ¼r Standard-Praxen ohne TV nicht erforderlich.</div>
        </li>
      </ul>
    </div>
  </div>

  <!-- BuÃŸgeldrahmen -->
  <div class="section" id="fines">
    <div class="section-header" onclick="toggle('fines')">
      <span class="section-par">Â§Â§ 22/23</span>
      <span class="section-title">Straf- und BuÃŸgeldrahmen</span>
      <span class="section-status">ğŸ’¶</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <table class="fine-table">
        <tr><th>VerstoÃŸ</th><th>Â§</th><th>Sanktion</th></tr>
        <tr><td>Ãœberschreitung der Tages-HÃ¶chstarbeitszeit</td><td>Â§ 3</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Fehlende oder unzureichende Ruhepause</td><td>Â§ 4</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Verletzung der 11h-Mindestruhezeit</td><td>Â§ 5</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>VerstoÃŸ gegen Nachtarbeitsgrenzen</td><td>Â§ 6</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>UnzulÃ¤ssige Sonn-/FeiertagsbeschÃ¤ftigung</td><td>Â§ 9</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Fehlende Aufzeichnung von Ãœberstunden</td><td>Â§ 16</td><td>BuÃŸgeld bis 30.000 â‚¬</td></tr>
        <tr><td>Fehler beim Gesetzesaushang</td><td>Â§ 16</td><td>BuÃŸgeld bis 5.000 â‚¬</td></tr>
        <tr><td>VorsÃ¤tzliche GesundheitsgefÃ¤hrdung</td><td>Â§ 23</td><td>Freiheitsstrafe bis 1 Jahr oder Geldstrafe</td></tr>
      </table>
    </div>
  </div>

  <!-- Handlungsempfehlungen -->
  <div class="section" id="actions">
    <div class="section-header" onclick="toggle('actions')">
      <span class="section-par">Fix</span>
      <span class="section-title">Handlungsempfehlungen (nach PrioritÃ¤t)</span>
      <span class="section-status">ğŸ”§</span>
      <span class="section-chevron">â–¼</span>
    </div>
    <div class="section-body">
      <h3 style="color:#16a34a;">âœ… Erledigt â€“ Commit <code>a488985</code> (28.02.2026)</h3>
      <ul class="gaps-list" style="margin-bottom:1rem;">
        <li style="background:#f0fdf4;">
          <span class="gap-tag" style="background:#16a34a;">Â§5 âœ…</span>
          <div><strong>Split-Schicht-Bug in <code>rest_time_service.py</code> behoben</strong> â€“ Datumsgruppierung statt Paarvergleich; <code>max(end_time)</code> vs. <code>min(start_time)</code> aufeinanderfolgender Tage</div>
        </li>
        <li style="background:#f0fdf4;">
          <span class="gap-tag" style="background:#16a34a;">Â§18 âœ…</span>
          <div><strong><code>exempt_from_arbzg</code>-Bypass vervollstÃ¤ndigt</strong> â€“ <code>if not user.exempt_from_arbzg:</code> vor allen Â§3/Â§4/Â§6-Checks in <code>admin.py</code> und <code>change_requests.py</code></div>
        </li>
        <li style="background:#f0fdf4;">
          <span class="gap-tag" style="background:#16a34a;">Â§3 âœ…</span>
          <div><strong>Code-Kommentar korrigiert:</strong> <code>MAX_WEEKLY_HOURS_WARN = 48.0 # Â§3 ArbZG: 6 Werktage Ã— 8h Durchschnitt = 48h/Woche</code> in <code>time_entries.py</code></div>
        </li>
        <li style="background:#f0fdf4;">
          <span class="gap-tag" style="background:#16a34a;">Â§6 âœ…</span>
          <div><strong>Â§6 Abs. 3/5 UI-Hinweise ergÃ¤nzt</strong> â€“ Informations-Boxen in Admin-Reports-Seite fÃ¼r arbeitsmedizinische Untersuchungspflicht und Lohnzuschlag-Pflicht</div>
        </li>
      </ul>
      <h3>Niedrig â€“ Verbleibende Dokumentationspflichten</h3>
      <ul class="gaps-list">
        <li>
          <span class="gap-tag">Â§6 Abs. 3</span>
          <div><strong>Personalakte:</strong> Arbeitsmedizinische Untersuchungen fÃ¼r Nachtarbeitnehmer dokumentieren (vor Beginn, alle 3 Jahre, ab 50: jÃ¤hrlich). UI-Hinweis in Reports vorhanden.</div>
        </li>
        <li>
          <span class="gap-tag">Â§6 Abs. 5</span>
          <div><strong>Lohnbuchhaltung:</strong> 25% Nachtarbeitszuschlag oder gleichwertige Freizeit fÃ¼r Nachtarbeitnehmer sicherstellen. UI-Hinweis in Reports vorhanden.</div>
        </li>
      </ul>
      <h3>Beobachtung â€“ Externe Entwicklung</h3>
      <ul class="gaps-list">
        <li>
          <span class="gap-tag">Â§16</span>
          <div><strong>ArbZG-Novelle (EuGH-Reform):</strong> Sobald Deutschland die Pflicht zur Aufzeichnung aller Stunden gesetzlich kodifiziert (erwartet 2025/2026), ist PraxisZeit bereits vollstÃ¤ndig konform â€“ alle Stunden werden lÃ¼ckenlos erfasst.</div>
        </li>
      </ul>
    </div>
  </div>

  <div class="hint-box">
    <strong>Rechtlicher Hinweis:</strong> Diese Analyse ersetzt keine Rechtsberatung. Arbeitgeber sind selbst verantwortlich fÃ¼r die Einhaltung des ArbZG.<br>
    Bei Fragen zur Anwendung einzelner Vorschriften sollte ein Fachanwalt fÃ¼r Arbeitsrecht hinzugezogen werden.<br><br>
    Gesetzestext: <a href="https://www.gesetze-im-internet.de/arbzg/">gesetze-im-internet.de/arbzg</a>
    &nbsp;Â·&nbsp; Stand dieser Analyse: 28.02.2026
  </div>

</div>

<script>
  function toggle(id) {
    const el = document.getElementById(id);
    el.classList.toggle('open');
  }
  function setAll(open) {
    document.querySelectorAll('.section').forEach(s => {
      if (open) s.classList.add('open');
      else s.classList.remove('open');
    });
  }
</script>
</body>
</html>
